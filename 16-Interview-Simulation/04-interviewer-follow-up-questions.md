# Interviewer Follow-Up Questions

> **面试官用来探测深度的追问问题。**

---

## 通用追问

### 1. 规模和容量

| 问题 | 考察点 | 优秀回答要点 |
|------|--------|--------------|
| "10x 流量怎么办？" | 扩展思维 | 分片、CDN、读写分离 |
| "存储不够了？" | 容量规划 | 数据分层、冷热分离 |
| "带宽瓶颈？" | 网络知识 | 压缩、CDN、协议优化 |

### 2. 数据库

| 问题 | 考察点 | 优秀回答要点 |
|------|--------|--------------|
| "为什么选这个数据库？" | 技术选型 | 访问模式、一致性要求 |
| "分片键怎么选？" | 分布式 | 均匀分布、查询友好 |
| "主从延迟怎么办？" | 一致性 | 读写分离策略 |
| "如何做索引？" | 性能 | 覆盖索引、复合索引 |

### 3. 缓存

| 问题 | 考察点 | 优秀回答要点 |
|------|--------|--------------|
| "缓存命中率低？" | 诊断 | 分析访问模式 |
| "缓存和数据库不一致？" | 一致性 | 更新策略、TTL |
| "缓存穿透？" | 安全 | 布隆过滤器、空值缓存 |
| "缓存雪崩？" | 高可用 | 随机 TTL、预热 |

### 4. 可用性

| 问题 | 考察点 | 优秀回答要点 |
|------|--------|--------------|
| "单点故障？" | 容错 | 冗余、故障转移 |
| "服务挂了怎么办？" | 降级 | 熔断、兜底方案 |
| "整个机房挂了？" | DR | 多活、备份 |

### 5. 一致性

| 问题 | 考察点 | 优秀回答要点 |
|------|--------|--------------|
| "分布式事务？" | 分布式 | 2PC、Saga |
| "数据冲突？" | 冲突解决 | LWW、CRDT |
| "消息丢失？" | 可靠性 | 确认、重试 |

---

## 案例专项追问

### URL Shortener

1. "如何防止恶意短链接？"
2. "自定义别名冲突怎么办？"
3. "如何实现 301 vs 302？"
4. "如何支持过期链接？"

### Twitter/X

1. "如何处理名人效应？"
2. "feed 如何排序？"
3. "写操作如何优化？"
4. "timeline 缓存策略？"

### 支付系统

1. "如何保证幂等？"
2. "重复支付怎么办？"
3. "如何对账？"
4. "异常情况怎么处理？"

### Uber

1. "如何实现实时匹配？"
2. "地图服务挂了？"
3. "高峰期如何调度？"
4. "司机位置如何更新？"

---

## 深度追问模式

### 模式 1：逐层深入

```
"你选择 Cassandra"
→ "为什么选 Cassandra？"
→ "它的写入路径是怎样的？"
→ " compaction 策略有什么区别？"
→ " SSTable 是什么结构？"
```

### 模式 2：边界条件

```
"你用 Redis 做缓存"
→ " Redis 挂了怎么办？"
→ "内存满了呢？"
→ " Redis 和数据库不一致呢？"
→ "如何保证最终一致？"
```

### 模式 3：反例

```
"你用读写分离"
→ "什么时候不适合读写分离？"
→ "主从延迟怎么办？"
→ "如果必须强一致性呢？"
```

---

## L6/L7 专属追问

| 问题 | 考察点 |
|------|--------|
| "这个设计的成本是多少？" | 成本意识 |
| "团队规模和时间？" | 项目管理 |
| "如何衡量 ROI？" | 商业价值 |
| "这个设计的技术风险？" | 风险评估 |
| "如何分阶段交付？" | 增量交付 |

---

## 回答技巧

### 1. 不要只说"不知道"

```python
# ❌ 不好
"我不知道"
# ✅ 好
"这个我不太确定，但根据我的理解，应该是..."
"我没有实际用过，但理论上应该是..."
```

### 2. 展示思考过程

```python
# ❌ 不好
"Cassandra 快"
# ✅ 好
"Cassandra 的写入路径是...，相比 MySQL 的 B+树，它的写放大更低，所以在高写入场景..."
```

### 3. 承认不确定，但给框架

```python
# 好
"这个问题我没有遇到过，但我会这样考虑：
1. 先确定影响范围
2. 检查监控指标
3. 如果需要回滚..."
```
