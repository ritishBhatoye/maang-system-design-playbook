# Build vs Buy Decision Framework

> **何时自建，何时购买的技术决策框架。**

---

## 1. 决策矩阵

| 因素 | 自建 (Build) | 购买 (Buy) |
|------|---------------|------------|
| **核心能力** | ✅ 竞争优势 | ❌ 非核心 |
| **团队能力** | ✅ 有经验 | ❌ 经验不足 |
| **时间** | 时间充裕 | 时间紧迫 |
| **成本** | 低长期成本 | 低前期成本 |
| **定制** | 需要深度定制 | 标准功能即可 |

---

## 2. 决策框架

### 2.1 问题定义

```
1. 我们要解决什么问题？
2. 这个问题对业务有多重要？
3. 不解决这个问题的影响是什么？
```

### 2.2 选项分析

```
┌─────────┬─────────────┬─────────────┬─────────────┐
│ 方案    │ 初始成本    │ 长期成本    │ 风险        │
├─────────┼─────────────┼─────────────┼─────────────┤
│ 自建    │ $500K       │ $100K/年    │ 技术风险    │
│ SaaS    │ $50K/年     │ $200K/年    │ 供应商锁定  │
│ 开源    │ $200K       │ $150K/年    │ 维护成本    │
└─────────┴─────────────┴─────────────┴─────────────┘
```

### 2.3 TCO 计算

```
TCO = 初始成本 + (年度运营成本 × 年数) + 退出成本

自建:
- 开发人员: $200K × 5人 × 6月 = $600K
- 服务器: $10K × 12月 = $120K
- 3年 TCO: $720K

购买:
- SaaS: $50K × 3年 = $150K
- 集成: $30K
- 3年 TCO: $180K
```

---

## 3. 典型场景

### 3.1 应该购买

| 场景 | 推荐 |
|------|------|
| 成熟技术 | 数据库、缓存、消息队列 |
| 非核心 | 客服系统、HR 系统 |
| 标准功能 | 邮件发送、支付处理 |
| 时间紧迫 | 快速上线 |

### 3.2 应该自建

| 场景 | 推荐 |
|------|------|
| 核心竞争优势 | 推荐算法、定价引擎 |
| 深度定制 | 业务流程引擎 |
| 性能关键 | 实时竞价、高频交易 |
| 数据机密 | 敏感数据分析 |

---

## 4. 供应商锁定风险

```yaml
锁定风险评估:
  - 数据可导出？JSON/CSV/SQL
  - API 是否有完整文档？
  - 是否支持标准协议？
  - 切换成本有多高？

降低锁定:
  - 使用开源 + 托管服务
  - 数据定期备份
  - 保持多供应商选项
```

---

## 5. Interview Questions

### Q: "为什么不用 X 开源方案？"
**A**:
- 评估了，需要深入定制
- 团队没有运维经验
- 总体成本更高

### Q: "为什么不用云服务？"
**A**:
- 成本因素
- 数据主权要求
- 性能要求高

---

## 6. Decision Template

```
# Build vs Buy Decision: [项目名称]

## 问题定义
[描述要解决的问题]

## 选项
1. Build: [描述]
2. Buy: [描述]
3. Hybrid: [描述]

## 评估

| 因素 | Build | Buy | 权重 |
|------|-------|-----|------|
| 成本 | 8 | 7 | 30% |
| 时间 | 3 | 9 | 25% |
| 控制 | 9 | 5 | 20% |
| 风险 | 6 | 8 | 15% |
| 扩展 | 8 | 7 | 10% |

## 建议
[选择及理由]

## 风险
[已知风险及缓解措施]
```
